<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
   <!DOCTYPE html>
   <html>

   <head>
      <meta charset="UTF-8">
      <script src="https://code.jquery.com/jquery-3.7.1.js" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/vue@3.5.13/dist/vue.global.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script src="/js/page-change.js"></script>
      <title>Í≤åÏãúÍ∏Ä ÏÉÅÏÑ∏Î≥¥Í∏∞</title>
	  <style>
	           .view-container {
	              width: 1200px;
	              max-width: 100%;
	              margin: 40px auto;
	              padding: 30px;
	              box-sizing: border-box;
	              border: 1px solid #ddd;
	              border-radius: 10px;
	              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
	              background-color: #fff;
	              font-family: 'Arial', sans-serif;
	           }

	           /* Ï†úÎ™© */
	           .view-title {
	              font-size: 30px;
	              font-weight: 800;
	              margin-bottom: 16px;
	              color: #333;
	              display: flex;
	              align-items: center;
	              gap: 10px;
	           }

	           /* ÏïÑÏù¥ÏΩò */
	           .title-icon {
	              font-size: 32px;
	              color: #FF5722;
	           }

	           .view-meta {
	              display: flex;
	              justify-content: space-between;
	              flex-wrap: wrap;
	              font-size: 14px;
	              color: #666;
	              margin-bottom: 20px;
	           }

	           .view-meta small {
	              font-size: 13px;
	              color: #888;
	           }

	           .view-content {
	              font-size: 16px;
	              line-height: 1.6;
	              white-space: pre-line;
	              margin-bottom: 30px;
	           }

	           /* Ï≤®Î∂Ä Ïù¥ÎØ∏ÏßÄ/ÎπÑÎîîÏò§ */
	           .media-section {
	              display: flex;
	              flex-wrap: wrap;
	              gap: 20px;
	              margin-bottom: 30px;
	           }

	           .media-section img {
	              width: 250px;
	              height: auto;
	              border-radius: 8px;
	              border: 1px solid #ccc;
	           }

	           .media-section video {
	              width: 100%;
	              max-width: 480px;
	              border-radius: 8px;
	              border: 1px solid #ccc;
	           }

	           /* ÎåìÍ∏Ä ÏòÅÏó≠ */
	           .comment-list {
	              width: 1200px;
	              max-width: 100%;
	              margin: 40px auto;
	              padding-top: 20px;
	              border-top: 1px solid #eee;
	              box-sizing: border-box;
	           }

	           .comment-list h4 {
	              margin-bottom: 12px;
	              font-size: 18px;
	           }

	           .comment-item {
	              margin-bottom: 12px;
	              padding: 10px;
	              border: 1px solid #ddd;
	              border-radius: 6px;
	              background-color: #f9f9f9;
	           }

	           .comment-meta {
	              font-size: 13px;
	              color: #666;
	              display: flex;
	              justify-content: space-between;
	              align-items: center;
	              margin-bottom: 4px;
	           }

	           .comment-actions {
	              display: flex;
	              gap: 12px;
	              font-size: 13px;
	              color: #FF5722;
	              cursor: pointer;
	           }

	           .comment-actions span:hover {
	              text-decoration: underline;
	           }

	           .comment-text {
	              font-size: 14px;
	           }

	           textarea {
	              width: 100%;
	              max-width: 100%;
	              box-sizing: border-box;
	              padding: 10px;
	              font-size: 14px;
	              border-radius: 6px;
	              border: 1px solid #ccc;
	              margin-bottom: 10px;
	              resize: vertical;
	           }

	           .btn-orange {
	              padding: 6px 12px;
	              font-size: 14px;
	              background-color: #FF5722;
	              color: white;
	              border: none;
	              border-radius: 4px;
	              cursor: pointer;
	           }

	           .btn-green {
	              padding: 6px 12px;
	              font-size: 14px;
	              background-color: #28a745;
	              color: white;
	              border: none;
	              border-radius: 4px;
	              cursor: pointer;
	           }

	           .btn-orange:hover {
	              background-color: #e64a19;
	           }

	           .action-buttons {
	              margin-top: 5px;
	              display: flex;
	              justify-content: flex-end;
	              gap: 6px;
	           }

	           .text-green {
	              color: #28a745;
	              font-weight: 500;
	              cursor: pointer;
	           }

	           .text-green:hover {
	              text-decoration: underline;
	           }

	           /* Ïó∞Í¥Ä Í≤åÏãúÍ∏Ä ÏòÅÏó≠ */
	           .related-wrapper {
	              width: 1200px;
	              max-width: 100%;
	              margin: 60px auto;
	              text-align: center;
	              border-top: 3px double #FF5722;
	              border-bottom: 3px double #FF5722;
	              padding: 20px 0;
	              box-sizing: border-box;
	           }

	           .related-title {
	              font-size: 22px;
	              font-weight: bold;
	              color: #333;
	              margin-bottom: 24px;
	              display: flex;
	              align-items: center;
	              justify-content: center;
	              gap: 6px;
	              position: relative;
	           }

	           .related-cards {
	              display: flex;
	              justify-content: center;
	              flex-wrap: wrap;
	              gap: 20px;
	              margin-top: 30px;
	           }

	           
	           .related-card {
	              width: 200px;
	              border: 1px solid #ddd;
	              border-radius: 12px;
	              overflow: hidden;
	              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
	              cursor: pointer;
	              transition: transform 0.25s, box-shadow 0.25s;
	              background-color: #fff;
	           }


	           .related-card:hover {
	              transform: translateY(-6px);
	              box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
	           }

	           .related-card img {
	              width: 100%;
	              height: 130px;
	              object-fit: cover;
	              border-bottom: 1px solid #eee;
	              background-color: #f2f2f2;
	           }

	           .card-info {
	              padding: 12px;
	           }

	           .card-info h5 {
	              font-size: 15px;
	              margin: 0 0 6px;
	              color: #333;
	              white-space: nowrap;
	              overflow: hidden;
	              text-overflow: ellipsis;
	           }

	           .card-info p {
	              font-size: 13px;
	              color: #777;
	              margin: 0;
	           }

	           .btn {
	              padding: 8px 16px;
	              font-size: 14px;
	              font-weight: 500;
	              border-radius: 6px;
	              border: none;
	              cursor: pointer;
	              transition: all 0.2s ease;
	           }

	           .btn-write {
	              background-color: #ffece4;
	              color: #ff5c00;
	              font-weight: 600;
	           }

	           .btn-write:hover {
	              background-color: #ff6b1a;
	              color: #fff;
	           }

	           .btn-blue {
	              padding: 8px 16px;
	              font-size: 14px;
	              font-weight: 500;
	              border-radius: 6px;
	              cursor: pointer;
	              transition: all 0.2s ease;
	              background-color: #e3f2ff;
	              color: #007bff;
	              font-weight: 600;
	              border: none;
	           }

	           .btn-blue:hover {
	              background-color: #007bff;
	              color: #fff;
	           }
	        </style>      
   </head>

   <body>
      <jsp:include page="../common/header.jsp" />
      <div id="app">
         <div class="view-container" v-if="board?.boardNo">
            <div class="view-title"><span class="title-icon">üì£</span>{{ board.boardTitle }}
               <img 
                 v-if="sessionType === 'lawyer'" 
                 src="/img/icon-chat.png"
                 @click="fnChatWithUser"
                 title="Î¨∏ÏùòÏûêÏôÄ Ï±ÑÌåÖÌïòÍ∏∞"
                 style="width: 20px; height: 20px; margin-left: auto; cursor: pointer;"
               />
            </div>

            <div class="view-meta">
               <div>
                  ÏûëÏÑ±Ïûê: {{ board.userName }} | Îã¥Îãπ Î≥ÄÌò∏ÏÇ¨: {{ board.lawyerName }} | Îì±Î°ùÏùº: {{ board.cdate }}
               </div>
               <small>
                 Ï°∞ÌöåÏàò: {{ board.cnt }} | ÏÉÅÌÉú: {{ getStatusLabel(board.boardStatus) }}
               </small>
            </div>

            <div class="view-content">
               {{ board.contents }}
            </div>

            <div class="media-section" v-if="images.length > 0">
               <h4>Ï≤®Î∂Ä Ïù¥ÎØ∏ÏßÄ</h4>
               <div v-for="img in images" :key="img.fileName">
                  <img :src="img.filePath.replace('../', '/')" alt="Ï≤®Î∂Ä Ïù¥ÎØ∏ÏßÄ">
               </div>
            </div>

            <div class="media-section" v-if="videos.length > 0">
               <h4>Ï≤®Î∂Ä ÏòÅÏÉÅ</h4>
               <div v-for="vid in videos" :key="vid.fileName">
                  <video controls>
                     <source :src="vid.filePath.replace('../', '/')" type="video/mp4">
                     Î∏åÎùºÏö∞Ï†ÄÍ∞Ä video ÌÉúÍ∑∏Î•º ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.
                  </video>
               </div>
            </div>
            <button v-if="sessionId === board.userId" @click="EditBoard" class="btn btn-write">‚úèÔ∏è ÏàòÏ†ïÌïòÍ∏∞</button>
         </div>

         
         
         <!-- Í¥ÄÎ†®Îêú Í≤åÏãúÍ∏Ä ÏòÅÏó≠ -->
         <div class="related-wrapper" v-if="relatedBoards.length > 0">
           <div class="related-title">üìå Ïó∞Í¥ÄÎêú Í≤åÏãúÍ∏Ä</div>
           <div class="related-cards">
             <div
               class="related-card"
               v-for="item in relatedBoards"
               :key="item.boardNo"
               @click="goToBoard(item.boardNo)"
             >
               <img
                 :src="item.thumbnailPath?.replace('../', '/')"
                 alt="Ïç∏ÎÑ§Ïùº"
                 @error="e => e.target.src = '/img/common/image_not_exist.jpg'"
               />
               <div class="card-info">
                 <h5>{{ item.boardTitle }}</h5>
                 <p>ÏûëÏÑ±Ïûê: {{ item.userName }}</p>
               </div>
             </div>
           </div>
         </div>
         
         
         <div class="comment-list" v-if="comments.length >= 0">
                   <h4>ÎåìÍ∏Ä</h4>

                   <div class="comment-item" v-for="(cmt, index) in comments" :key="index">
                     <div class="comment-meta">
                       <span>{{ cmt.lawyerName }} | {{ cmt.cdate }}</span>
                       <div style="display: flex; align-items: center; gap: 6px; margin-left: auto;">
                        <span class="comment-actions" v-if="sessionType === 'lawyer' && cmt.lawyerId === sessionId">
                           <span class="text-green" @click="updateComment(cmt.cmtNo)">ÏàòÏ†ï</span>
                           <span style="font-weight: bold;" @click="deleteComment(cmt.cmtNo)">ÏÇ≠Ï†ú</span>
                         </span>
  
                         <!-- Î∂ÅÎßàÌÅ¨ ÏïÑÏù¥ÏΩò -->
                          <img
                          v-if="sessionType === 'user'"
                          :src="isBookmarked(cmt.lawyerId) ? '/img/selectedBookmark.png' : '/img/Bookmark.png'"
                          @click="toggleBookmark(cmt.lawyerId)"
                          style="width: 18px; height: 18px; margin-left: 8px; cursor: pointer;"
                          />
  
                          <!-- Í≥ÑÏïΩ ÏïÑÏù¥ÏΩò -->
                          <img
                          v-if="sessionType === 'user'"
                          src="/img/contract.png"
                          @click="startContract(cmt.lawyerId)"
                          title="Í≥ÑÏïΩÌïòÍ∏∞"
                          style="width: 18px; height: 18px; margin-left: 8px; cursor: pointer;"
                          />
  
                          <!-- Ï±ÑÌåÖ ÏïÑÏù¥ÏΩò -->
                          <img
                          v-if="sessionType === 'user'"
                          src="/img/icon-chat.png"
                          @click="startChat(cmt.lawyerId)"
                          title="Ï±ÑÌåÖÌïòÍ∏∞"
                          style="width: 18px; height: 18px; margin-left: 8px; cursor: pointer;"
                          />
                       </div>
                       
                     </div>
                    <div class="comment-text">
                      <div v-if="editingCommentNo === cmt.cmtNo">
                        <textarea v-model="editedComment" rows="3"></textarea>
                        <div style="margin-top: 5px;">
                          <button class="btn-green" @click="saveUpdatedComment(cmt.cmtNo)">Ï†ÄÏû•</button>
                          <button class="btn-orange" @click="cancelUpdate" style="margin-left: 5px;">Ï∑®ÏÜå</button>
                        </div>
                      </div>
                      <div v-else>
                        {{ cmt.contents }}
                      </div>
                    </div>
                   </div>

                   <div v-if="sessionType === 'lawyer' ">
                     <textarea v-model="newComment" placeholder="ÎåìÍ∏ÄÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî." rows="3"></textarea>
                     <button class="btn-blue" @click="checkLawyerAndSubmit">üí¨ ÎåìÍ∏Ä Îì±Î°ù</button>
                   </div>
                 </div>



         </div>
         <jsp:include page="../common/footer.jsp" />
   </body>

   </html>

   <script>
      const app = Vue.createApp({
         data() {
            return {
               board: {},
               boardNo: "${map.boardNo}",
               sessionId: "${sessionScope.sessionId}",
               images: [],
               videos: [],
               comments: [],
               newComment: "",
               lawyer_id: "",
               sessionType: "${sessionScope.sessionType}",
               bookmarkList: [],
               makerId: "",
               editingCommentNo: null,
               editedComment: "",
               relatedBoards: [],
               authResult : ""
            };
         },
         methods: {
            fnGetBoard() {
               const self = this;
               $.ajax({
                  url: "/board/view.dox",
                  type: "POST",
                  data: {
                     boardNo: self.boardNo,
                     sessionId: self.sessionId
                  },
                  dataType: "json",
                  success: function (data) {
                     console.log(data);
                     console.log(self.sessionType);
                     self.board = data.board;
                     self.makerId = data.board.userId;
                     self.comments = data.comment || [];
                     self.bookmarkList = data.bookmark;
                     self.images = [];
                     self.videos = [];
                     data.boardFile.forEach(file => {
                        if (file.thumbnail === 'Y') return;
                        const lower = file.fileName.toLowerCase();
                        if (lower.endsWith('.jpg') || lower.endsWith('.jpeg') || lower.endsWith('.png') || lower.endsWith('.gif') || lower.endsWith('.jfif')) {
                           self.images.push(file);
                        } else if (lower.endsWith('.mp4') || lower.endsWith('.mov') || lower.endsWith('.avi')) {
                           self.videos.push(file);
                        }
                     });
                  }
               });
            },
            checkLawyerAndSubmit() {
               const self = this;

               if (!self.newComment.trim()) {
                  Swal.fire({
                     icon: "warning",
                     title: "ÏûÖÎ†• ÌïÑÏöî",
                     text: "ÎåìÍ∏ÄÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.",
                     confirmButtonColor: "#ff5c00"
                  });
                  return;
               }

               $.ajax({
                  url: "/board/checkLawyerStatus.dox",
                  type: "POST",
                  data: {
                     sessionId: self.sessionId
                  },
                  dataType: "json",
                  success: function (res) {
                     const isApproved = res.result === "true";
                     const isAuthValid = res.authResult === "true";

                     if (!isApproved) {
                        Swal.fire({
                           icon: "error",
                           title: "ÏäπÏù∏ÎêòÏßÄ ÏïäÏùå",
                           text: "ÏïÑÏßÅ ÏäπÏù∏ÎêòÏßÄ ÏïäÏùÄ Î≥ÄÌò∏ÏÇ¨ Í≥ÑÏ†ïÏûÖÎãàÎã§.",
                           confirmButtonColor: "#ff5c00"
                        });
                        return;
                     }

                     if (!isAuthValid) {
                        Swal.fire({
                           icon: "info",
                           title: "Îì±Î°ùÍ∏∞Í∞Ñ ÎßåÎ£å",
                           text: "Î≥ÄÌò∏ÏÇ¨ Îì±Î°ùÍ∏∞Í∞ÑÏù¥ ÎßåÎ£åÎêòÏóàÏäµÎãàÎã§.",
                           confirmButtonColor: "#ff5c00"
                        }).then(() => {
                           location.href = "/package/package.do";
                        });
                        return;
                     }

                     // Ï°∞Í±¥ ÌÜµÍ≥º ‚Üí ÎåìÍ∏Ä Îì±Î°ù
                     $.ajax({
                        url: "/board/commentAdd.dox",
                        type: "POST",
                        data: {
                           boardNo: self.boardNo,
                           contents: self.newComment,
                           lawyerId: self.sessionId
                        },
                        success: function () {
                           self.newComment = "";
                           self.addNotification();
                           self.fnGetBoard();
                        }
                     });
                  },
                  error: function () {
                     Swal.fire({
                        icon: "error",
                        title: "ÏöîÏ≤≠ Ïã§Ìå®",
                        text: "Î≥ÄÌò∏ÏÇ¨ ÏÉÅÌÉú ÌôïÏù∏ ÏöîÏ≤≠Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.",
                        confirmButtonColor: "#ff5c00"
                     });
                  }
               });
            },

            EditBoard: function () {
               let self = this;
               pageChange("/board/edit.do", { boardNo: self.boardNo, userId: self.sessionId });
            },
            isBookmarked(lawyerId) {
               return this.bookmarkList.some(bm => bm.lawyerId === lawyerId);
            },
            toggleBookmark(lawyerId) {
               const self = this;

               if (!self.sessionId) {
                  alert("Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.");
                  return;
               }

               const isMarked = self.isBookmarked(lawyerId);
               const url = isMarked ? "/bookmark/remove.dox" : "/bookmark/add.dox";

               $.ajax({
                  url: url,
                  type: "POST",
                  data: {
                     userId: self.sessionId,
                     lawyerId: lawyerId
                  },
                  success: function (data) {
                     if (isMarked) {
                        self.bookmarkList = self.bookmarkList.filter(b => b.lawyerId !== lawyerId);
                        alert(data.result);
                     } else {
                        self.bookmarkList.push({ lawyerId: lawyerId });
                        alert(data.result);
                     }
                  },
                  error: function () {
                     alert("Î∂ÅÎßàÌÅ¨ Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.");
                  }
               });
            },
            addNotification() {
               let self = this;
               var nparmap = {
                  senderId: self.sessionId,
                  notiType: "C",
                  contents: "ÏÉà ÎåìÍ∏ÄÏù¥ Îã¨Î†∏ÏäµÎãàÎã§",
                  receiverId: self.makerId,
                  boardNo: self.boardNo
               };
               $.ajax({
                  url: "/notification/add.dox",
                  dataType: "json",
                  type: "POST",
                  data: nparmap,
                  success: function (data) {
                     console.log(data);
                     if (data.result == "success") {
                        self.list = data.list;
                     } else {
                        alert("Ïò§Î•òÎ∞úÏÉù");
                     }
                  }
               });
            },
            startContract(lawyerId) {
               let self = this;
               pageChange("/contract/newContract.do", { lawyerId: lawyerId, boardNo: self.boardNo, userId: self.makerId });
            },
            startChat(lawyerId) {
               let self = this;
               $.ajax({
                  url: "/chat/findOrCreate.dox",
                  type: "POST",
                  data: {
                     userId: self.sessionId,
                     lawyerId: lawyerId
                  },
                  success: function (res) {
                     let chatNo = res.chatNo;
                     pageChange("/chat/chat.do", {
                        chatNo: chatNo
                     });
                  }
               });
            },
            deleteComment(cmtNo) {
               const self = this;
               if (!confirm("ÎåìÍ∏ÄÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?")) return;
               $.ajax({
                  url: "/board/commentDelete.dox",
                  type: "POST",
                  data: {
                     cmtNo: Number(cmtNo),
                     lawyerId: self.sessionId
                  },
                  success: function (res) {
                     if (res.result === "success") {
                        alert("ÎåìÍ∏ÄÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.");
                        self.fnGetBoard();
                     } else {
                        alert("ÎåìÍ∏Ä ÏÇ≠Ï†ú Ïã§Ìå®");
                     }
                  }
               });
            },
            updateComment(cmtNo) {
               const comment = this.comments.find(c => c.cmtNo === cmtNo);
               this.editingCommentNo = cmtNo;
               this.editedComment = comment.contents;
            },
            saveUpdatedComment(cmtNo) {
               const self = this;
               if (!self.editedComment.trim()) {
                  alert("ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");
                  return;
               }
               $.ajax({
                  url: "/board/commentUpdate.dox",
                  type: "POST",
                  data: {
                     cmtNo: cmtNo,
                     contents: self.editedComment,
                     lawyerId: self.sessionId
                  },
                  success: function (res) {
                     if (res.result === "success") {
                        alert("ÎåìÍ∏ÄÏù¥ ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.");
                        self.editingCommentNo = null;
                        self.editedComment = "";
                        self.fnGetBoard();
                     } else {
                        alert("ÎåìÍ∏Ä ÏàòÏ†ï Ïã§Ìå®");
                     }
                  }
               });
            },
            cancelUpdate() {
               this.editingCommentNo = null;
               this.editedComment = "";
            },
            fnGetBoardWithKeyword(){
               let self = this;
               $.ajax({
                 url: "/board/related.dox",
                 type: "POST",
                 data: { boardNo: self.boardNo },
                 dataType: "json",
                 success: function (res) {
                   self.relatedBoards = res.related || [];
                 }
               });
            },
            goToBoard(boardNo) {
               pageChange("/board/view.do", { boardNo: boardNo });
            },
            fnChatWithUser() {
              let self = this;

              if (!self.sessionId || !self.makerId) {
                alert("Ï±ÑÌåÖ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.");
                return;
              }

              $.ajax({
                url: "/chat/findOrCreate.dox",
                type: "POST",
                data: {
                  userId: self.makerId,
                  lawyerId: self.sessionId
                },
                success: function (res) {
                  let chatNo = res.chatNo;
                  pageChange("/chat/chat.do", {
                    chatNo: chatNo
                  });
                },
                error: function () {
                  alert("Ï±ÑÌåÖ Ïó∞Í≤∞Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.");
                }
              });
            },
            getStatusLabel(status) {
                switch (status) {
                  case 'DOING':
                    return 'ÏßÑÌñâÏ§ë';
                  case 'WAIT':
                    return 'ÎåÄÍ∏∞Ï§ë';
                  case 'END':
                    return 'Ï¢ÖÎ£åÎê®';
                  default:
                    return status;
                }
              },
              fnIncreaseViewCount() {
                  let self = this;
                  $.ajax({
                    url: "/board/increaseView.dox",
                    type: "POST",
                    data: { boardNo: self.boardNo },
                    success: function (res) {
                      // Ï¶ùÍ∞Ä ÏÑ±Í≥µ Ïãú Îã§Ïãú board Ï†ïÎ≥¥ Î∂àÎü¨Ïò¨ ÏàòÎèÑ ÏûàÏùå
                      if (res.result === "success") {
                        self.board.cnt++;  // ÌòπÏùÄ res.newCountÎ°ú ÎåÄÏ≤¥ Í∞ÄÎä•
                      }
                    },
                    error: function () {
                      console.error("Ï°∞ÌöåÏàò Ï¶ùÍ∞Ä Ïã§Ìå®");
                    }
                  });
                },
         },
         mounted() {
            let self = this;
            console.log(self.sessionType);
            self.fnGetBoard();
            self.fnGetBoardWithKeyword();
            self.fnIncreaseViewCount();
         }
      });
      app.mount("#app");
   </script>